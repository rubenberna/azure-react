{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"/Users/rubenbernardes/Code/freelance/volvo/azure-context/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/rubenbernardes/Code/freelance/volvo/azure-context/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{Menu,Sidebar}from'semantic-ui-react';import{useGetDashboards}from'../../utils/dashboard/useGetDashboards';import{useProtectedNavigation}from'../../utils/permissions/useUserHasPermission.util';import VolvoIcon from'../../assets/icons/assets-logo-icon.png';import{Context as AuthContext}from'../../context/auth/AuthContext';import{PERMISSIONS}from'../../consts/permissions/permissions.consts';import{isBase64encoded}from'../../utils/general/_general.util';var defaultHome={title:'Volvo',slug:'/',icon:VolvoIcon,requiredPermissions:[PERMISSIONS.GUEST]};export var SideNavbar=function SideNavbar(){var _useContext=useContext(AuthContext),role=_useContext.state.role;var _useGetDashboards=useGetDashboards(),dashBoardsList=_useGetDashboards.dashBoardsList;var _useState=useState(defaultHome.slug),_useState2=_slicedToArray(_useState,2),visibleSegment=_useState2[0],setVisibleSegment=_useState2[1];var _useProtectedNavigati=useProtectedNavigation(),navigateSafely=_useProtectedNavigati.navigateSafely;var navigate=function navigate(requiredPermission,link){setVisibleSegment(link);navigateSafely(requiredPermission,role,link);};return/*#__PURE__*/_jsx(Sidebar,{as:Menu,animation:\"overlay\",direction:\"left\",icon:\"labeled\",inverted:true,vertical:true,visible:true,width:\"thin\",children:[defaultHome].concat(_toConsumableArray(dashBoardsList)).map(function(dashboard){return/*#__PURE__*/_jsxs(Menu.Item,{className:\"side-navbar-item\",as:\"a\",active:visibleSegment===dashboard.slug,onClick:function onClick(){return navigate(dashboard.requiredPermissions,dashboard.slug);},children:[/*#__PURE__*/_jsx(\"img\",{className:\"side-navbar-item-logo\",src:isBase64encoded(dashboard.icon)?\"data:image/jpeg;base64,\".concat(dashboard.icon):dashboard.icon,alt:dashboard.title}),/*#__PURE__*/_jsx(\"span\",{children:dashboard.title})]},dashboard.slug);})});};","map":{"version":3,"sources":["/Users/rubenbernardes/Code/freelance/volvo/azure-context/src/components/sideNavbar/SideNavbar.js"],"names":["React","useContext","useState","Menu","Sidebar","useGetDashboards","useProtectedNavigation","VolvoIcon","Context","AuthContext","PERMISSIONS","isBase64encoded","defaultHome","title","slug","icon","requiredPermissions","GUEST","SideNavbar","role","state","dashBoardsList","visibleSegment","setVisibleSegment","navigateSafely","navigate","requiredPermission","link","map","dashboard"],"mappings":"8bAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,OAASC,IAAT,CAAeC,OAAf,KAA8B,mBAA9B,CACA,OAASC,gBAAT,KAAiC,wCAAjC,CACA,OAASC,sBAAT,KAAuC,mDAAvC,CACA,MAAOC,CAAAA,SAAP,KAAsB,yCAAtB,CACA,OAASC,OAAO,GAAIC,CAAAA,WAApB,KAAuC,gCAAvC,CACA,OAASC,WAAT,KAA4B,6CAA5B,CACA,OAASC,eAAT,KAAgC,mCAAhC,CAGA,GAAMC,CAAAA,WAAW,CAAG,CAClBC,KAAK,CAAE,OADW,CAElBC,IAAI,CAAE,GAFY,CAGlBC,IAAI,CAAER,SAHY,CAIlBS,mBAAmB,CAAE,CAACN,WAAW,CAACO,KAAb,CAJH,CAApB,CAOA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,iBACNjB,UAAU,CAACQ,WAAD,CADJ,CACfU,IADe,aACvBC,KADuB,CACfD,IADe,uBAELd,gBAAgB,EAFX,CAEvBgB,cAFuB,mBAEvBA,cAFuB,eAGcnB,QAAQ,CAACU,WAAW,CAACE,IAAb,CAHtB,wCAGvBQ,cAHuB,eAGPC,iBAHO,yCAILjB,sBAAsB,EAJjB,CAIvBkB,cAJuB,uBAIvBA,cAJuB,CAM9B,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,kBAAD,CAAqBC,IAArB,CAA8B,CAC7CJ,iBAAiB,CAACI,IAAD,CAAjB,CACAH,cAAc,CAACE,kBAAD,CAAqBP,IAArB,CAA2BQ,IAA3B,CAAd,CACD,CAHD,CAKA,mBACE,KAAC,OAAD,EACE,EAAE,CAAExB,IADN,CAEE,SAAS,CAAC,SAFZ,CAGE,SAAS,CAAC,MAHZ,CAIE,IAAI,CAAC,SAJP,CAKE,QAAQ,KALV,CAME,QAAQ,KANV,CAOE,OAAO,CAAE,IAPX,CAQE,KAAK,CAAC,MARR,UASG,CAACS,WAAD,4BAAiBS,cAAjB,GAAiCO,GAAjC,CAAqC,SAACC,SAAD,qBACpC,MAAC,IAAD,CAAM,IAAN,EAEE,SAAS,CAAC,kBAFZ,CAGE,EAAE,CAAC,GAHL,CAIE,MAAM,CAAEP,cAAc,GAAKO,SAAS,CAACf,IAJvC,CAKE,OAAO,CAAE,yBAAMW,CAAAA,QAAQ,CAACI,SAAS,CAACb,mBAAX,CAAgCa,SAAS,CAACf,IAA1C,CAAd,EALX,wBAME,YAAK,SAAS,CAAC,uBAAf,CACK,GAAG,CAAEH,eAAe,CAACkB,SAAS,CAACd,IAAX,CAAf,kCAA4Dc,SAAS,CAACd,IAAtE,EAA+Ec,SAAS,CAACd,IADnG,CAEK,GAAG,CAAEc,SAAS,CAAChB,KAFpB,EANF,cASE,sBAAOgB,SAAS,CAAChB,KAAjB,EATF,GACOgB,SAAS,CAACf,IADjB,CADoC,EAArC,CATH,EADF,CAyBD,CApCM","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { Menu, Sidebar } from 'semantic-ui-react';\nimport { useGetDashboards } from '../../utils/dashboard/useGetDashboards';\nimport { useProtectedNavigation } from '../../utils/permissions/useUserHasPermission.util';\nimport VolvoIcon from '../../assets/icons/assets-logo-icon.png';\nimport { Context as AuthContext } from '../../context/auth/AuthContext';\nimport { PERMISSIONS } from '../../consts/permissions/permissions.consts';\nimport { isBase64encoded } from '../../utils/general/_general.util';\n\n\nconst defaultHome = {\n  title: 'Volvo',\n  slug: '/',\n  icon: VolvoIcon,\n  requiredPermissions: [PERMISSIONS.GUEST]\n};\n\nexport const SideNavbar = () => {\n  const {state: {role}} = useContext(AuthContext);\n  const {dashBoardsList} = useGetDashboards();\n  const [visibleSegment, setVisibleSegment] = useState(defaultHome.slug);\n  const {navigateSafely} = useProtectedNavigation();\n\n  const navigate = (requiredPermission, link) => {\n    setVisibleSegment(link);\n    navigateSafely(requiredPermission, role, link);\n  };\n\n  return (\n    <Sidebar\n      as={Menu}\n      animation='overlay'\n      direction='left'\n      icon='labeled'\n      inverted\n      vertical\n      visible={true}\n      width='thin'>\n      {[defaultHome, ...dashBoardsList].map((dashboard) => (\n        <Menu.Item\n          key={dashboard.slug}\n          className=\"side-navbar-item\"\n          as='a'\n          active={visibleSegment === dashboard.slug}\n          onClick={() => navigate(dashboard.requiredPermissions, dashboard.slug)}>\n          <img className=\"side-navbar-item-logo\"\n               src={isBase64encoded(dashboard.icon) ? `data:image/jpeg;base64,${dashboard.icon}` : dashboard.icon}\n               alt={dashboard.title}/>\n          <span>{dashboard.title}</span>\n        </Menu.Item>\n      ))}\n    </Sidebar>\n  );\n};\n\n"]},"metadata":{},"sourceType":"module"}