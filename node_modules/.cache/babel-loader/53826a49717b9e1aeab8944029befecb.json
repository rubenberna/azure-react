{"ast":null,"code":"import createDataContext from './createDataContext';\nimport { allAccounts, getUserProfile } from '../utils/security.util';\n\nconst authReducer = (state, action) => {\n  switch (action.type) {\n    case \"add_error\":\n      return { ...state,\n        errorMessage: action.payload\n      };\n\n    case \"login\":\n      return {\n        errorMessage: \"\",\n        token: action.payload\n      };\n\n    case \"clear_error_message\":\n      return { ...state,\n        errorMessage: \"\"\n      };\n\n    case \"signout\":\n      return {\n        token: null,\n        errorMessage: \"\"\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst signIn = dispatch => async () => {\n  console.log('first');\n\n  try {\n    console.log('first .1');\n    console.log(allAccounts);\n\n    if (allAccounts === null || allAccounts === void 0 ? void 0 : allAccounts.length) {\n      console.log('fetchin');\n      const profile = getUserProfile();\n      console.log(profile);\n    }\n\n    dispatch({\n      type: 'login',\n      payload: '123'\n    });\n  } catch (e) {\n    console.log('error', e);\n    dispatch({\n      type: 'add_error',\n      payload: 'something went wrong signing in'\n    });\n  }\n};\n\nexport const {\n  Provider,\n  Context\n} = createDataContext(authReducer, {\n  signIn\n}, {\n  token: null,\n  errorMessage: ''\n});","map":{"version":3,"sources":["/Users/rubenbernardes/Code/freelance/volvo/azure-context/src/context/AuthContext.js"],"names":["createDataContext","allAccounts","getUserProfile","authReducer","state","action","type","errorMessage","payload","token","signIn","dispatch","console","log","length","profile","e","Provider","Context"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,qBAA9B;AACA,SAASC,WAAT,EAAsBC,cAAtB,QAA4C,wBAA5C;;AAEA,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACrC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,WAAL;AACE,aAAO,EAAC,GAAGF,KAAJ;AAAWG,QAAAA,YAAY,EAAEF,MAAM,CAACG;AAAhC,OAAP;;AACF,SAAK,OAAL;AACE,aAAO;AAACD,QAAAA,YAAY,EAAE,EAAf;AAAmBE,QAAAA,KAAK,EAAEJ,MAAM,CAACG;AAAjC,OAAP;;AACF,SAAK,qBAAL;AACE,aAAO,EAAC,GAAGJ,KAAJ;AAAWG,QAAAA,YAAY,EAAE;AAAzB,OAAP;;AACF,SAAK,SAAL;AACE,aAAO;AAACE,QAAAA,KAAK,EAAE,IAAR;AAAcF,QAAAA,YAAY,EAAE;AAA5B,OAAP;;AACF;AACE,aAAOH,KAAP;AAVJ;AAYD,CAbD;;AAeA,MAAMM,MAAM,GAAIC,QAAD,IAAc,YAAY;AACvCC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AACA,MAAI;AACFD,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYZ,WAAZ;;AACA,QAAIA,WAAJ,aAAIA,WAAJ,uBAAIA,WAAW,CAAEa,MAAjB,EAAyB;AACvBF,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,YAAME,OAAO,GAAGb,cAAc,EAA9B;AACAU,MAAAA,OAAO,CAACC,GAAR,CAAYE,OAAZ;AACD;;AAEDJ,IAAAA,QAAQ,CAAC;AACPL,MAAAA,IAAI,EAAE,OADC;AAEPE,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID,GAbD,CAaE,OAAOQ,CAAP,EAAU;AAEVJ,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBG,CAArB;AACAL,IAAAA,QAAQ,CAAC;AACPL,MAAAA,IAAI,EAAE,WADC;AAEPE,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID;AACF,CAvBD;;AAyBA,OAAO,MAAM;AAACS,EAAAA,QAAD;AAAWC,EAAAA;AAAX,IAAsBlB,iBAAiB,CAClDG,WADkD,EAElD;AAACO,EAAAA;AAAD,CAFkD,EAGlD;AAACD,EAAAA,KAAK,EAAE,IAAR;AAAcF,EAAAA,YAAY,EAAE;AAA5B,CAHkD,CAA7C","sourcesContent":["import createDataContext from './createDataContext';\nimport { allAccounts, getUserProfile } from '../utils/security.util';\n\nconst authReducer = (state, action) => {\n  switch (action.type) {\n    case \"add_error\":\n      return {...state, errorMessage: action.payload};\n    case \"login\":\n      return {errorMessage: \"\", token: action.payload};\n    case \"clear_error_message\":\n      return {...state, errorMessage: \"\"};\n    case \"signout\":\n      return {token: null, errorMessage: \"\"};\n    default:\n      return state;\n  }\n};\n\nconst signIn = (dispatch) => async () => {\n  console.log('first');\n  try {\n    console.log('first .1');\n    console.log(allAccounts);\n    if (allAccounts?.length) {\n      console.log('fetchin');\n      const profile = getUserProfile()\n      console.log(profile);\n    }\n\n    dispatch({\n      type: 'login',\n      payload: '123'\n    });\n  } catch (e) {\n\n    console.log('error', e);\n    dispatch({\n      type: 'add_error',\n      payload: 'something went wrong signing in'\n    });\n  }\n};\n\nexport const {Provider, Context} = createDataContext(\n  authReducer,\n  {signIn},\n  {token: null, errorMessage: ''}\n);"]},"metadata":{},"sourceType":"module"}